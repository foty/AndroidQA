### 泛型

#### 什么是泛型

泛型是Java SE 1.5之后的特性，泛型提供了编译时类型安全检测机制，该机制允许程序在编译时检测到非法的类型。   
**泛型的本质是参数化类型**，把数据类型当作是参数一样传递。即先定义一个参数类型，然后在使用时指定一个具体的参数类型的值，这样这个参数类
型能像指定的具体类型一样使用。


#### 泛型分类

泛型根据使用位置可分为泛型方法、泛型类、泛型接口。即分别在方法、类、接口中使用泛型。


#### 泛型的好处(为什么使用泛型)

* 代码更加简洁，在编译的时候检查类型安全，并且所有的强制转换都是自动和隐式的，不用再次强制转换，非常方便，有效率
* 可读性和稳定性，在编写集合的时候，就限定了类型
* 程序更加健壮，只要编译时期没有警告，那么运行时就不会抛出ClassCastException(类型转换异常)
* 保证向后兼容与迁移兼容，泛型是在JDK5(1.5)出现的新特性


#### 类型通配符

泛型的通配符是用于**解决泛型之间引用传递问题的特殊语法**, 在逻辑上还原了泛型类传入数据类型的参数父类子类的继承关系，同时也可以按照需求设定通
配符的上限与下限:
* 无边界通配符，写作`?`，表示可以是任何类型。
* 固定上边界通配符，写作`? extend T`，表示必须是T或者T的子类类型
* 固定下边界通配符，写作 `? super T`，表示必须是T或者T的超类(父类)
    

#### 泛型继承关系

父类或接口中的泛型可以被子类继承，子类继承父类泛型有下面几种方式：
* 全部继承，子类也是泛型
* 部分继承(部分实现)
* 全部实现父类泛型，子类不再是泛型
* 忽略泛型，不继承也不实现父类泛型(这样父类泛型会默认为Object)


#### 类型擦除(实现泛型的原理)

泛型擦除指在编译阶段，所有的泛型会被替换成相应的原始类型，使得使用泛型的代码可以和没有使用泛型的代码随意互用。同时在擦除的位置做标记，在后续的使用增
加额外的类型安全检查操作，必要时进行强制类型转换。替换(擦除)规则为：

* 无边界类型替换成Object。
* 有边界类型替换成对应的上下界。比如 `T extend String`，在编译时，T会被替换成String。


#### 

你了解泛型通配符与上下界吗?
> 泛型上下界就是上限通配符与下界通配符，目的都是为了让泛型使用更加方便灵活。如`extend T`，T为上界(生产者)，接受T或者T的子类类型；`super T`，T
> 为下界(消费者)，接受T或者T的父类类型，

泛型类的继承
> 1、全部继承；2、部分继承；3、全部实现；4、忽略泛型。

泛型擦除是怎么回事?
> (问概念) 泛型擦除指在编译阶段，所有的泛型会被替换成相应的原始类型，使得使用泛型的代码可以和没有使用泛型的代码随意互用。

数组中能不能使用泛型?
> 不能

原始类型和带参数类型之间的主要区别?
> 在编译时编译器不会对原始类型进行类型安全检查，却会对带参数的类型进行检查。

如果擦除了，那运行时是怎么拿回原来的类型的?
> 编译时，编译器在泛型擦除位置做上标记(保存)，并在后续的使用中增加类型安全检查或者类型强制转换。

Gson是怎么处理的泛型擦除?
> 使用TypeToken匿名类。通过子类继承父类并实现父类的泛型，从而保存下来具体的泛型类型。