### ArrayList

概述
特点
原理
问题   [](../aQA/answer/java/数据结构QA.md)

#### 概述
ArrayList是一种基于可变数组实现的集合框架，属于List接口的实现类之一。提供了添加、删除、修改、遍历等功能。初始容量是10，
扩容时为原容量的1.5倍，并将将原来数组的内容复制到新的数组中。能保存任何数据类型，包括null。

#### 特点

* 查询效率高，有索引
* 增删效率低
* 线程不安全

#### 原理
底层数据结构是Object可变数组(自动扩容)，添加元素默认是在size位置。每次添加新元素都会判断是否需要扩容。数组进行扩容
时，会将老数组中的元素重新拷贝一份到新的数组中，新数组容量是原容量的1.5倍。

#### 问题

##### ArrayList扩容机制？
> 初始容量为10，扩容因子为1，即当数组的长度小于最小需要的容量(当前元素容量+待添加的元素数量)就扩容。扩容后容量是原容量的1.5倍，计算方
> 式为`new = old + (old >> 1)`。

##### 为什么ArrayList扩容倍数是1.5
> 首先扩容容量不能太小，防止频繁扩容，数组频繁复制；第二，扩容容量不能太大，需要充分利用空间，避免浪费过多空间；还有就是
> 计算尽量高效，使用位运算的计算效率是比较高的。