
###

相关知识点：[](../../../java/反射.md)

##### 反射的作用与原理。
> 在运行时判断任意一个对象所属的类、一个类所具有的成员变量和方法；造任意一个类的对象，调用任意一个对象的方法以及动态代理。

原理：
> 利用Class对象。可以获取与类相关的各种信息， 提供了获取类信息的相关方法

##### 什么是反射。
> 在运行状态中，对于任意一个类，都能够知道这个类的所有属性和方法；对于任意一个对象，都能调用它的任意一个方法和属性。这
> 种动态获取信息及动态调用对象方法的功能(机制)叫做反射。

##### 怎么利用反射创建一个对象。
> 首先获取到Class对象；然后调用它的`newInstance()`创建实例。

##### 反射机制的优缺点
优点：
> 1、提高程序的灵活性和扩展性，降低代码的耦合性。   
2、通过反射机制在程序运行时可以操作类对象。   
3、成为构建框架技术的理论基础

缺点：
> 1、性能问题；    
> 2、安全问题；

##### 反射可以反射final修饰的字段吗
> 可以。但是不能保证正确访问到修改后的数据。因为存在内联优化。基本类型、String类型直接赋值时，jvm会编译优化，反射获
> 取的始终是旧值。[String类型直接赋值进到的常量池]    
> 无法直接修改同时被static final修饰的变量，可以先反射去掉final。

##### Class.getField()和getDeclaredField()的区别，getDeclaredMethod()和getMethod()的区别
> getField是仅获取指定的public属性，会递归到超类；   
> getDeclaredField是获取对象所在类中声明的指定属性，无限定符限制，但是父类继承的字段无法获取。

> getDeclaredMethod()返回Class对象自己的所有方法，无限定符限制；  
> getMethod()是获取所有的公共方法，包括自己的、继承来的方法。

##### 说说反射的应用场景，哪些框架？
> 1、框架设计：用来解耦；2、动态代理：使用反射技术可以创建动态代理对象。3、序列化和反序列化：例如Gson。注入框架等等都有使
> 用反射。

##### 反射为什么慢？
> 反射执行慢的主要原因是反射涉及到了运行时类型检查、访问权限检查、临时对象的创建、动态方法调用和一些额外的操作，这些操作都
> 会导致反射的执行比较慢。

##### 动态代理是什么？如何实现？
> 在代码运行期间加载被代理的类这就是动态代理。

##### 动态代理的方法怎么初始化的？
##### CGLIB动态代理